# Marutabi ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦

## 1. ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

* **æ—…ã®ãƒ«ãƒ¼ãƒˆã‚„è¨ˆç”»ã‚’ç°¡å˜ã«å…±æœ‰ãƒ»æ¯”è¼ƒã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹**
* ãƒ•ãƒªãƒ¼ãã£ã·ï¼ˆé’æ˜¥18ãã£ã·ãªã©ï¼‰ã‚„å¤šæ§˜ãªç§»å‹•æ‰‹æ®µã‚’çµ„ã¿åˆã‚ã›ãŸãƒ«ãƒ¼ãƒˆä½œæˆã«ç‰¹åŒ–
* è‡ªåˆ†ã‚„ä»–äººã®æ—…ãƒ­ã‚°ã‚’æ´»ç”¨ã—ã¦åŠ¹ç‡çš„ã«ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã§ãã‚‹

---

## 2. ä¸»è¦æ©Ÿèƒ½

### ãƒ«ãƒ¼ãƒˆä½œæˆãƒ»æ¤œç´¢

* å¤šæ§˜ãªåˆ‡ç¬¦ãƒ»çµŒè·¯ã‚’ä½¿ã£ãŸãƒ«ãƒ¼ãƒˆæ¤œç´¢ï¼ˆé’æ˜¥18ãã£ã·ã€å„ç¨®ãƒ•ãƒªãƒ¼ãã£ã·ã€é«˜é€Ÿãƒã‚¹ãªã©ï¼‰
* ãƒ›ãƒ†ãƒ«ã‚„è¦³å…‰åœ°ãªã©ã®æ»åœ¨æ™‚é–“ã‚’çµ„ã¿è¾¼ã‚“ã çµŒè·¯ä½œæˆ
* çµŒç”±åœ°ã®å¤šæ§˜åŒ–ï¼ˆè¤‡æ•°çµŒè·¯ã®ææ¡ˆï¼‰

### å…±æœ‰ãƒ»ã‚·ã‚§ã‚¢

* ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ãƒ«ãƒ¼ãƒˆã‚„æ—…ç¨‹ã‚’å‹é”ã¨å…±æœ‰
* è‡ªåˆ†ãŒä½œã£ãŸæ—…ãƒ­ã‚°ã‚’æŒ¯ã‚Šè¿”ã‚Šå¯èƒ½
* ä»–äººã®æ—…ç¨‹ã‚’å‚è€ƒã«ã—ã¦ã€é¡ä¼¼ãƒ«ãƒ¼ãƒˆã‚’æ¯”è¼ƒææ¡ˆ

### æ¯”è¼ƒãƒ»è©•ä¾¡

* ãƒ•ãƒªãƒ¼ãã£ã·ã‚„ãƒ«ãƒ¼ãƒˆã®æ¯”è¼ƒè¡¨ã‚’è‡ªå‹•ç”Ÿæˆ
* AIï¼ˆLLMï¼‰ãŒãƒ«ãƒ¼ãƒˆã®è‰¯ã—æ‚ªã—ã‚’åˆ¤å®šã—ã€éå»ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠã¨æ¯”è¼ƒ
* è‡ªå·±è©•ä¾¡ã¨ã‚·ã‚§ã‚¢æ©Ÿèƒ½ã§ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ™ãƒ¼ã‚¹ã®æ”¹å–„

---

## 3. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

* **ä»²é–“ã¨æ—…è¡Œè¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã¨ã**
  é¢å€’ãªãƒ«ãƒ¼ãƒˆå…±æœ‰ã‚’ç°¡å˜ã«ã—ã€è¤‡æ•°æ¡ˆã‚’æ¯”è¼ƒã§ãã‚‹
* **ãƒ•ãƒªãƒ¼ãã£ã·æ—…**
  é’æ˜¥18ãã£ã·ã‚„åœ°åŸŸé™å®šãƒ•ãƒªãƒ¼ãã£ã·ã‚’æœ€å¤§é™æ´»ç”¨ã—ãŸãƒ—ãƒ©ãƒ³ã‚’è‡ªå‹•ç”Ÿæˆ
* **æ—…ã®æŒ¯ã‚Šè¿”ã‚Š**
  è‡ªåˆ†ã®éå»ã®æ—…ã‚’ãƒ­ã‚°ã¨ã—ã¦æ®‹ã—ã€æ¬¡å›è¨ˆç”»ã«æ´»ç”¨

---

## 4. å·®åˆ¥åŒ–ãƒã‚¤ãƒ³ãƒˆ

* æ¬²ã—ã„æ©Ÿèƒ½ï¼ˆåˆ‡ç¬¦æ¯”è¼ƒã€ãƒ«ãƒ¼ãƒˆä½œæˆã€å®¿æ³Šè¾¼ã¿ã®æ¤œç´¢ï¼‰ãŒå…¨ã¦æƒã£ãŸã€Œæ—…è¡Œç‰¹åŒ–ãƒãƒƒãƒ—ã‚µãƒ¼ãƒ“ã‚¹ã€
* AIã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä¸¡æ–¹ã‚’æ´»ç”¨ã—ãŸãƒ«ãƒ¼ãƒˆæ”¹å–„ææ¡ˆ
* ä»–ç¤¾ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯å°‘ãªã„ã€Œãƒ•ãƒªãƒ¼ãã£ã·ç‰¹åŒ–ã€ã€Œé’æ˜¥18ãã£ã·æ—…ã€ã«å¼·ã„è¨­è¨ˆ

---

## 5. ç™ºå±•ã‚¢ã‚¤ãƒ‡ã‚¢

* **AIæ—…ç¨‹ãƒ†ã‚¹ã‚¿ãƒ¼**ï¼šä½œæˆã—ãŸãƒ«ãƒ¼ãƒˆã‚’AIãŒè©•ä¾¡ã—ã€Œç„¡ç†ã®ãªã„è¡Œç¨‹ã‹ã€ã‚’ã‚¢ãƒ‰ãƒã‚¤ã‚¹
* **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ‡ãƒ¼ã‚¿æ´»ç”¨**ï¼šä»–äººã®æ—…ç¨‹ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ™ãƒ¼ã‚¹ã«ãŠã™ã™ã‚ãƒ«ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ
* **ãƒãƒƒãƒ—ã‚µãƒ¼ãƒ“ã‚¹é€£æº**ï¼šGoogle Maps / OSM ã¨æ¥ç¶šã—ã¦å¯è¦–åŒ–

---

ğŸ‘‰ ä¸€è¨€ã§ã„ã†ã¨ã€
\*\*ã€ŒMarutabiã€ã¯ãƒ•ãƒªãƒ¼ãã£ã·ã‚’ä¸­å¿ƒã«ã€æ—…ã®ãƒ«ãƒ¼ãƒˆä½œæˆãƒ»æ¯”è¼ƒãƒ»å…±æœ‰ã‚’ç°¡å˜ã«ã™ã‚‹AIæ—…è¡Œãƒ—ãƒ©ãƒ³ãƒŠãƒ¼å…¼ãƒ­ã‚°å…±æœ‰ã‚µãƒ¼ãƒ“ã‚¹ã€\*\*ã§ã™ã€‚

---

# æŠ€è¡“æ–¹é‡ï¼ˆé‡è¦ï¼‰

## æ–¹é‡Aï¼šNextAuthä¸»å°ï¼ˆæ¨å¥¨ï¼šä»Šå›ï¼‰

* **èªè¨¼**ï¼šNextAuthï¼ˆGitHub Providerï¼‰
* **DBæ¥ç¶š**ï¼šSupabaseã®Postgresã« **Prisma** ã§ç›´çµ
* **æ¨©é™åˆ¶å¾¡**ï¼šRLSã¯ä½¿ã‚ãšã€**ã‚¢ãƒ—ãƒªå´(ã‚µãƒ¼ãƒãƒ¼)ã§å³å¯†ã«ãƒã‚§ãƒƒã‚¯**

  * API Routeï¼Server Actionã§ `session.user.id` ã‚’å¿…ãšæ¤œè¨¼
  * DBã‚¢ã‚¯ã‚»ã‚¹ã¯**ã‚µãƒ¼ãƒãƒ¼å´å°‚ç”¨ãƒ©ãƒƒãƒ‘**è¶Šã—ã«ä¸€æœ¬åŒ–
* ãƒ¡ãƒªãƒƒãƒˆï¼šNext.jsã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«ç´ ç›´ã€å®Ÿè£…ãŒèª­ã¿ã‚„ã™ã„
* ãƒ‡ãƒ¡ãƒªãƒƒãƒˆï¼šDBãƒ¬ã‚¤ãƒ¤ãƒ¼ã ã‘ã§ã®å¼·åˆ¶ã¯å¼±ããªã‚‹ï¼ˆãŸã ã—ã€Server-Onlyã§ååˆ†å …ç‰¢ã«ã§ãã‚‹ï¼‰

## æ–¹é‡Bï¼šSupabase Authä¸»å°

* NextAuthã‚’ä½¿ã‚ãšSupabase Authã§JWTã‚’ç™ºè¡Œã—**RLSãƒ•ãƒ«æ´»ç”¨**ã€‚
* ä»Šå›ã®æŒ‡å®šï¼ˆNextAuth+GitHubï¼‰ã¨é•ã†ã®ã§å‰²æ„›ã€‚

> ä»¥é™ã¯\*\*æ–¹é‡Aï¼ˆNextAuthä¸»å°ï¼‰\*\*ã§é€²ã‚ã¾ã™ã€‚

---

# ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

* **Frontend**ï¼šNext.js(App Router) + Tailwind
* **Auth**ï¼šNextAuthï¼ˆGitHub Providerï¼‰
* **DB**ï¼šSupabase Postgresï¼ˆæ¥ç¶šã¯Prismaï¼‰
* **ORM**ï¼šPrisma
* **ãƒ‡ãƒ—ãƒ­ã‚¤**ï¼šVercel or Fly.ioï¼ˆServer Actionsã‚’ä½¿ã†ãªã‚‰Nodeãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§OKï¼‰
* **ç”»åƒ/ãƒ•ã‚¡ã‚¤ãƒ«**ï¼šSupabase Storageï¼ˆæ—…ãƒ­ã‚°ã®ã‚µãƒ ãƒã€ã‚¢ã‚¤ã‚³ãƒ³ç­‰ï¼‰
* **åœ°å›³**ï¼šMapLibre or Google Maps / OSMï¼ˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹/ã‚³ã‚¹ãƒˆã§é¸æŠï¼‰
* **ã‚¸ãƒ§ãƒ–**ï¼šVercel Cron / Cloudflare Cronï¼ˆé›†è¨ˆãƒ»ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã®ãƒãƒƒãƒï¼‰
* **ç›£è¦–**ï¼šVercel Analytics + Sentry

---

# ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆæœ€å°æ ¸ï¼‰

**ä¸»ã‚­ãƒ¼ã¯å…¨ã¦ `cuid()` or `uuid`ã€ä½œæˆ/æ›´æ–°æ™‚åˆ»ã¯å…±é€š `createdAt/updatedAt`ã€‚**

* `User` â€¦ NextAuthï¼ˆPrisma Adapterï¼‰ãŒä½œæˆã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼

  * `id`ãƒ»`name`ãƒ»`image`ãƒ»`email`
* `Trip`ï¼ˆæ—…ã®ã¾ã¨ã¾ã‚Šï¼‰

  * `id` `ownerId(FK->User)` `title` `description` `visibility('private'|'friends'|'public')`
  * `tags`(string\[]) `coverImageUrl`
  * `startDate` `endDate`
* `Route`ï¼ˆã‚ã‚‹æ—…ã®â€œçµŒè·¯æ¡ˆâ€ 1..nï¼‰

  * `id` `tripId(FK)` `title` `score`(AIè©•ä¾¡/è‡ªå·±è©•ä¾¡) `transportMix`(json)
* `Stop`ï¼ˆçµŒç”±åœ°=æ™‚ç³»åˆ—ï¼‰

  * `id` `routeId(FK)` `order` `placeId` `name` `lat` `lng`
  * `arriveAt` `leaveAt` `memo`
* `Ticket`ï¼ˆãƒ•ãƒªãƒ¼ãã£ã·ãƒ»é«˜é€Ÿãƒã‚¹ç­‰ã®åˆ©ç”¨æƒ…å ±ï¼‰

  * `id` `routeId(FK)` `type`(`'18'|'jr-area'|'bus'|...`) `name` `validFrom/To` `price`
* `Hotel`

  * `id` `routeId(FK)` `name` `checkIn` `checkOut` `price` `lat` `lng` `bookingUrl`
* `Like` / `Bookmark`

  * `userId` `tripId`ï¼ˆä¸€æ„è¤‡åˆï¼‰
* `ShareLink`

  * `id` `tripId` `token`(çŸ­ç¸®) `expiresAt` `canEdit:boolean`
* `Eval`ï¼ˆAIã‚„ãƒ¦ãƒ¼ã‚¶ã®è©•ä¾¡ãƒ­ã‚°ï¼‰

  * `id` `routeId` `kind('ai'|'self'|'community')` `score` `explain:text`
* `RouteCandidateCache`ï¼ˆAIææ¡ˆã®ä¸­é–“/ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰

  * `id` `ownerId` `inputHash` `payload:jsonb` `expiresAt`

> Prismaä¾‹ï¼ˆæŠœç²‹ï¼‰

```prisma
model User {
  id        String   @id @default(cuid())
  name      String?
  email     String?  @unique
  image     String?
  accounts  Account[]
  sessions  Session[]
  trips     Trip[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Trip {
  id         String   @id @default(cuid())
  ownerId    String
  owner      User     @relation(fields: [ownerId], references: [id], onDelete: Cascade)
  title      String
  description String? 
  visibility  String   @default("private") // enumã§ã‚‚å¯
  tags       String[]  @db.Text
  coverImageUrl String?
  startDate  DateTime?
  endDate    DateTime?
  routes     Route[]
  likes      Like[]
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
  @@index([ownerId, visibility])
}

model Route {
  id        String  @id @default(cuid())
  tripId    String
  trip      Trip    @relation(fields: [tripId], references: [id], onDelete: Cascade)
  title     String
  score     Int?    // ç·åˆã‚¹ã‚³ã‚¢
  transportMix Json?
  stops     Stop[]
  tickets   Ticket[]
  hotels    Hotel[]
  evals     Eval[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Stop {
  id        String  @id @default(cuid())
  routeId   String
  route     Route   @relation(fields: [routeId], references: [id], onDelete: Cascade)
  order     Int
  placeId   String?
  name      String
  lat       Decimal? @db.Decimal(9,6)
  lng       Decimal? @db.Decimal(9,6)
  arriveAt  DateTime?
  leaveAt   DateTime?
  memo      String?
  @@index([routeId, order])
}

model Ticket {
  id        String  @id @default(cuid())
  routeId   String
  route     Route   @relation(fields: [routeId], references: [id], onDelete: Cascade)
  type      String
  name      String
  validFrom DateTime?
  validTo   DateTime?
  price     Int?
}

model Hotel {
  id        String  @id @default(cuid())
  routeId   String
  route     Route   @relation(fields: [routeId], references: [id], onDelete: Cascade)
  name      String
  checkIn   DateTime?
  checkOut  DateTime?
  price     Int?
  lat       Decimal? @db.Decimal(9,6)
  lng       Decimal? @db.Decimal(9,6)
  bookingUrl String?
}

model Like {
  userId String
  tripId String
  user   User @relation(fields: [userId], references: [id], onDelete: Cascade)
  trip   Trip @relation(fields: [tripId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
  @@id([userId, tripId])
}
```

---

# API / Server Action è¨­è¨ˆ

> åŸå‰‡ï¼š**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰DBç›´å©ãç¦æ­¢**ã€‚
> ã™ã¹ã¦ `server-only` ãªé–¢æ•°ã«é–‰ã˜è¾¼ã‚ã€**æ¯å›ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼**ã€‚

* `/app/(dashboard)/trips/[id]/page.tsx`

  * `getTrip(id)`ï¼ˆownerãªã‚‰ç·¨é›†å¯ã€publicãªã‚‰é–²è¦§å¯ï¼‰
  * `updateTrip(input)`ï¼ˆ`assertOwner(session.user.id, tripId)`ï¼‰
* `/app/api/trips/route/generate/route.ts`

  * å…¥åŠ›ï¼šå‡ºç™ºåœ°ã€æ—¥æ•°ã€å„ªå…ˆæ¡ä»¶ï¼ˆæµ·æ²¿ã„/æ¸©æ³‰/18ãã£ã· ç­‰ï¼‰
  * å‡ºåŠ›ï¼š`RouteCandidateCache` ã«ä¿å­˜ â†’ UIã¸è¿”ã™
* `/app/api/trips/share/[id]/route.ts`

  * POSTï¼šå…±æœ‰ãƒªãƒ³ã‚¯ä½œæˆï¼ˆ`ShareLink`ï¼‰
* `/app/api/trips/like/[id]/route.ts`

  * POST/DELETEï¼šLikeä»˜ä¸/è§£é™¤ï¼ˆè¤‡åˆPKã§å†ªç­‰ï¼‰

**Server Utilityï¼ˆä¾‹ï¼‰**

```ts
// lib/auth.ts
export async function requireUser() {
  const session = await auth();
  if (!session?.user?.id) throw new Error("unauthorized");
  return session.user;
}

// lib/perm.ts
export async function assertOwner(userId: string, tripId: string) {
  const trip = await db.trip.findUnique({ where: { id: tripId }});
  if (!trip || trip.ownerId !== userId) throw new Error("forbidden");
}
```

---

# NextAuth è¨­å®šï¼ˆPrisma Adapterï¼‰

```ts
// app/api/auth/[...nextauth]/route.ts
import NextAuth from "next-auth";
import GitHub from "next-auth/providers/github";
import { PrismaAdapter } from "@auth/prisma-adapter";
import { db } from "@/server/db"; // PrismaClient

export const authOptions = {
  adapter: PrismaAdapter(db),
  providers: [
    GitHub({
      clientId: process.env.GITHUB_ID!,
      clientSecret: process.env.GITHUB_SECRET!,
      allowDangerousEmailAccountLinking: true,
    }),
  ],
  session: { strategy: "database" }, // ã‚‚ã—ãã¯ 'jwt'
  callbacks: {
    async session({ session, user }) {
      if (session.user) session.user.id = user.id; // å‹æ‹¡å¼µ
      return session;
    },
  },
};
const handler = NextAuth(authOptions);
export { handler as GET, handler as POST };
```

> è£œè¶³

* **Adapter**ã¯Prismaã‚’åˆ©ç”¨ï¼ˆSupabase Postgresã«æ¥ç¶šï¼‰
* ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ `database` ã§ã‚‚ `jwt` ã§ã‚‚OKï¼ˆ**Server Actionå¤šç”¨ãªã‚‰jwtãŒè»½ã„**ï¼‰
* `next-auth` ã®Userãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã‚¢ãƒ—ãƒªã®å¤–éƒ¨ã‚­ãƒ¼ã‚’\*\*`userId`ã§çµ±ä¸€\*\*

---

# ç’°å¢ƒå¤‰æ•°ï¼ˆä¾‹ï¼‰

```
DATABASE_URL="postgresql://postgres:[password]@db.[supabase-id].supabase.co:5432/postgres"
NEXTAUTH_URL="https://your-domain.vercel.app"
NEXTAUTH_SECRET="openssl rand -hex 32"
GITHUB_ID="..."
GITHUB_SECRET="..."
SUPABASE_STORAGE_URL="https://[supabase-id].supabase.co/storage/v1"
SUPABASE_SERVICE_ROLE="..."  # ã‚µãƒ¼ãƒãƒ¼ã§ãƒãƒƒãƒ/Storageç”¨ã«é™å®šä½¿ç”¨
```

---

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆï¼ˆæœ€å°ï¼‰

```
apps/web/
  app/
    (marketing)/
    (dashboard)/
      trips/[id]/page.tsx
    api/
      auth/[...nextauth]/route.ts
      trips/
        create/route.ts
        update/route.ts
        share/route.ts
        like/route.ts
        route/
          generate/route.ts
  components/
  lib/
    auth.ts
    perm.ts
    map.ts
  server/
    db.ts           // PrismaClient
    actions/        // Server Actions
  styles/
  prisma/
    schema.prisma
```

---

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ç‚¹

* **RLSã‚’å‰æã«ã—ãªã„**ï¼ˆNextAuthãªã®ã§ï¼‰ã€‚ä»£ã‚ã‚Šã«ï¼š

  * ã™ã¹ã¦ã®DBæ“ä½œã¯**ã‚µãƒ¼ãƒãƒ¼å´ã®ã¿**ã«é–‰ã˜ã‚‹
  * **æ‰€æœ‰æ¨©ãƒã‚§ãƒƒã‚¯**ã¨\*\*å¯è¦–æ€§ï¼ˆpublic/friends/privateï¼‰\*\*ã‚’å¿…ãšå®Ÿè£…
  * å…±æœ‰ãƒªãƒ³ã‚¯ã®ç·¨é›†æ¨©é™ã¯ `canEdit` + `token` ã§**åˆ¥çµŒè·¯**
* Supabase Storageã¯**ç½²åä»˜ãURL**ã‚’ç™ºè¡Œã—ã¦é…å¸ƒï¼ˆæœŸé™ä»˜ãï¼‰
* ç›£æŸ»ç”¨ã«**é‡è¦æ“ä½œãƒ­ã‚°**ï¼ˆå‰Šé™¤/å…±æœ‰ç”Ÿæˆ/å…¬é–‹åˆ‡æ›¿ï¼‰ã‚’è¨˜éŒ²

---

# åˆæœŸã‚¹ãƒ—ãƒªãƒ³ãƒˆï¼ˆ2é€±é–“æƒ³å®šï¼‰

1. **Auth & DBåŸºç›¤**

* NextAuth(GitHub) + Prisma + Supabaseæ¥ç¶š
* `User/Trip/Route/Stop` ã®æœ€å°ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

2. **æ—…ã®CRUDï¼ˆOwnerå°‚ç”¨ï¼‰**

* Tripä½œæˆ/ç·¨é›†/å‰Šé™¤
* Route/Stopã®åŸºæœ¬ç·¨é›†ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ã§é †åºå…¥æ›¿ï¼‰

3. **å…¬é–‹ãƒ»å…±æœ‰**

* `visibility` åˆ‡æ›¿
* `ShareLink` ä½œæˆ & å…¬é–‹ãƒšãƒ¼ã‚¸

4. **ãƒ•ãƒªãƒ¼ãã£ã·å¯¾å¿œã®æ¤œç´¢UIï¼ˆãƒ€ãƒŸãƒ¼â†’æœ¬å®Ÿè£…ï¼‰**

* æ¡ä»¶ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆ18ãã£ã·/æµ·æ²¿ã„/æ¸©æ³‰ï¼‰
* ãƒ€ãƒŸãƒ¼AIææ¡ˆâ†’`RouteCandidateCache`ã«ä¿å­˜â†’æ¡ç”¨ãƒœã‚¿ãƒ³ã§RouteåŒ–

5. **è©•ä¾¡/Like**

* è‡ªå·±è©•ä¾¡ï¼ˆ1ã€œ5ï¼‰ã¨Like

---

# Tailwind & UI å°è¦ä»¶

* åœ°å›³ï¼š**MapLibre** + OSMï¼ˆç„¡å„Ÿã§å§‹ã‚ã‚„ã™ã„ï¼‰
* æ™‚ç³»åˆ—UIï¼šStopsã‚’**ç¸¦ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³**ã§ç·¨é›†ã€`order`ã¯ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§æ›´æ–°
* å…±æœ‰ãƒšãƒ¼ã‚¸ï¼š`/r/[token]`ï¼ˆé–²è¦§å°‚ç”¨ãƒ»OGPå¯¾å¿œï¼‰

---